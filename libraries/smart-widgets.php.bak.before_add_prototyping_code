<?php
/*

CROSS-APPLICATION CLASSES FOR RENDERING GUI

You can use them to build GUI modules that render
application data into a user interface

*/

/*
class SmartCSSClass
{

    public static $resp_one_third = 'resp_one_third';
    public static $resp_two_thirds = 'resp_two_thirds';

    public static $smt_badge = 'smt_badge';
    public static $smt_label = "smt_label";
    public static $smt_header = "smt_header";
    public static $smt_descriptor = "smt_descriptor";
    public static $smt_color_white = "smt_color_white";
    public static $smt_color_blue = "smt_color_blue";
    public static $smt_color_black = "smt_color_black";
    public static $smt_color_paragraph = "smt_color_paragraph";
    public static $smt_color_gray = "smt_color_gray";
    public static $smt_color_dark_gray = "smt_color_dark_gray";
    public static $smt_color_main_descriptor = "smt_color_main_descriptor";
    public static $smt_color_gray_descriptor = "smt_color_gray_descriptor";
    public static $smt_background_information_header = "smt_background_information_header";
    public static $smt_background_color__tooltip = "smt_background_color__tooltip";
    public static $smt_backgroud_color_success = 'smt_backgroud_color_success';
    public static $smt_backgroud_color_error = 'smt_backgroud_color_error';
    public static $smt_color_information_header = "smt_color_information_header";
    public static $smt_inline_block = "smt_inline_block";
    public static $smt_block = "smt_block";
    public static $smt_left_aligned = "smt_left_aligned";
    public static $smt_center_aligned = "smt_center_aligned";
    public static $smt_right_aligned = "smt_right_aligned";
    public static $smt_top_aligned = "smt_top_aligned";
    public static $smt_middle_aligned = "smt_middle_aligned";
    public static $smt_background_color__wallpost = "smt_background_color__wallpost";
    public static $smt_background_color__white = "smt_background_color__white";
    public static $smt_background_color__blue = "smt_background_color__blue";
    public static $smt_border = "smt_border";
    public static $smt_border__top = "smt_border__top";
    public static $smt_border__bottom = "smt_border__bottom";
    public static $smt_spacer = "smt_spacer";
    public static $smt_horizontal_spacer = "smt_horizontal_spacer";
    public static $smt_vertical_spacer = "smt_vertical_spacer";
    public static $smt_button_background__gray = "smt_button_background__gray";
    public static $smt_button_background__green = "smt_button_background__green";
    public static $smt_button_border__gray = "smt_button_border__gray";
    public static $smt_float_left = "smt_float_left";
    public static $smt_relative = "smt_relative";

    public static $smt_border_width_zero = "smt_border_width_zero";
    public static $smt_text_indent = "smt_text_indent";
    public static $width_100_percent = "width_100_percent";


}
*/

//@@@@@@@@@@@@@@@@@@@@@@@@@@ MEDIA QUERY RELATED @@@@@@@@@@@@@@@@@@@@@@@@@222222222@@@@@@@@@@
/** THE MEDIA QUERY SUB-PROJECT
 *THE GOAL:
 *=======
 *The goal of this SUB project is to provide a means of building media queries
 *straight from an html component
 *i.e when i create an html element, i shd be able to specify
 *how it displays at various screen sizes and orientation
 *For instance, there are many cases where you might want to hide a component below a given width
 * e.g. you might want to hide the list of categories below a given screen width
 * and only display it above a given width.
 *
 * USE CASES
 * ---------
 * -hiding components below a given screen width
 * -displaying additional components above a given width or height
 *
 */

//get list of rules to apply
class BaseClassForCSSSettings{
    private $arr_of_settings = array();
    protected $delimiter = ";";
    protected $opening_bracket = "";
    protected $closing_bracket = "";

    public function set($property, $value){
        $this->arr_of_settings[] = sprintf("%s%s:%s%s",
            $this->opening_bracket,$property,$value,$this->closing_bracket);
        return $this;
    }
    public function __toString()
    {
        return join($this->delimiter,$this->arr_of_settings);
    }
}
class CSSStyleSpecs extends BaseClassForCSSSettings{
    protected $delimiter = ";";
    public static function instance(){
        return new self();
    }
}
class CSSMediaType extends BaseClassForCSSSettings{
    protected $delimiter = " and ";
    protected $opening_bracket = "(";
    protected $closing_bracket = ")";

    public static function create(){
        return new self();
    }
    public function min_width($value){
        $this->set("min-width",$value);
        return $this;
    }
    public function max_width($value){
        $this->set("max-width",$value);
        return $this;
    }
    public function min_height($value){
        $this->set("min-height",$value);
        return $this;
    }
    public function max_height($value){
        $this->set("max-height",$value);
        return $this;
    }
    public function orientation_portrait(){
        $this->set("orientation","portrait");
        return $this;
    }
    public function orientation_landscape(){
        $this->set("orientation","landscape");
        return $this;
    }
    public function and_min_width($value){
        $this->set("min-width",$value);
        return $this;
    }
    public function and_max_width($value){
        $this->set("max-width",$value);
        return $this;
    }
    public function and_min_height($value){
        $this->set("min-height",$value);
        return $this;
    }
    public function and_max_height($value){
        $this->set("max-height",$value);
        return $this;
    }
    public function and_orientation_portrait(){
        $this->set("orientation","portrait");
        return $this;
    }
    public function and_orientation_landscape(){
        $this->set("orientation","landscape");
        return $this;
    }
}
class ContentStylesheet{
    private $arr_of_settings = array();
    public function set_and_format($selector_as_string, $css_property_settings){
        $string_to_add_to_final_array = sprintf("%s{%s}",$selector_as_string,$css_property_settings);
        return $this->add_to_final_array($string_to_add_to_final_array);
    }
    private function add_to_final_array($css_string){
        $this->arr_of_settings[] = $css_string;
        return $this;
    }
    /** @param StylesSpecsForSelector $css_selector_settings_pair 
     * @return ContentStylesheet */
    public function add($css_selector_settings_pair){
        if(!is_a($css_selector_settings_pair, "StylesSpecsForSelector")){
            throw new Exception("expected StylesSpecsForSelector");
        }
        $this->set_and_format(
            $css_selector_settings_pair->selector(),
            $css_selector_settings_pair->property_settings()
        );
        return $this;
        
    }
    public function __toString()
    {
        return join(" ",$this->arr_of_settings);
    }
    public static function instance(){
        return new self();
    }

    public function addStyleSpecsFromString($string)
    {
        return $this->add_to_final_array($string."");
    }
}
class StylesSpecsForSelector{
    private $selector;
    private $property_settings;
    public function __construct($selector_as_string)
    {
        $this->selector = $selector_as_string;
        $this->property_settings = new CSSStyleSpecs();
    }
    public function set_style($property, $value){
        $this->property_settings->set($property,$value);
        return $this;
    }
    public function selector(){
        return $this->selector;
    }
    public function property_settings(){
        return $this->property_settings;
    }

    public function background_color($value){
        return $this->set_style('background-color',$value);
    }
    public function background_image($value){
        return $this->set_style('background-image',$value);
    }
    public function background_image_url($value){
        return $this->set_style('background-image',"url($value)");
    }

    public function background_repeat($value){
        return $this->set_style('background-repeat',$value);
    }
    public function background_repeat_no_repeat(){
        return $this->background_repeat('no-repeat');
    }
    public function background_position($value){
        return $this->set_style('background-position',$value);
    }
    public function color($value){
        return $this->set_style('color',$value);
    }

    public function padding($value){
        return $this->set_style('padding',$value);
    }
    public function padding_top($value){
        return $this->set_style('padding-top',$value);
    }
    public function padding_bottom($value){
        return $this->set_style('padding-bottom',$value);
    }
    public function padding_left($value){
        return $this->set_style('padding-left',$value);
    }
    public function padding_right($value){
        return $this->set_style('padding-right',$value);
    }
    public function margin($value){
        return $this->set_style('margin',$value);
    }
    public function margin_top($value){
        return $this->set_style('margin-top',$value);
    }
    public function margin_bottom($value){
        return $this->set_style('margin-bottom',$value);
    }
    public function margin_left($value){
        return $this->set_style('margin-left',$value);
    }
    public function margin_right($value){
        return $this->set_style('margin-right',$value);
    }
    public function border($value){
        return $this->set_style('border',$value);
    }
    public function border_width($value){
        return $this->set_style('border-width',$value);
    }
    public function border_color($value){
        return $this->set_style('border-color',$value);
    }

    public function border_top($value){
        return $this->set_style('border-top',$value);
    }
    public function border_top_width($value){
        return $this->set_style('border-top-width',$value);
    }
    public function border_top_color($value){
        return $this->set_style('border-top-color',$value);
    }

    public function border_bottom($value){
        return $this->set_style('border-bottom',$value);
    }
    public function border_bottom_width($value){
        return $this->set_style('border-bottom-width',$value);
    }
    public function border_bottom_color($value){
        return $this->set_style('border-bottom-color',$value);
    }


    public function border_left($value){
        return $this->set_style('border-left',$value);
    }
    public function border_left_width($value){
        return $this->set_style('border-left-width',$value);
    }
    public function border_left_color($value){
        return $this->set_style('border-left-color',$value);
    }


    public function border_right($value){
        return $this->set_style('border-right',$value);
    }
    public function border_right_width($value){
        return $this->set_style('border-right-width',$value);
    }
    public function border_right_color($value){
        return $this->set_style('border-right-color',$value);
    }

    public function border_zero(){
        return $this->border('0');
    }

    public function position($value){
        return $this->set_style('position',$value);
    }
    public function postion_fixed(){
        return $this->position('fixed');
    }
    public function postion_absolute(){
        return $this->position('absolute');
    }
    public function position_relative(){
        return $this->position('relative');
    }

    public function left($value){
        return $this->set_style('left',$value);
    }
    public function top($value){
        return $this->set_style('top',$value);
    }
    public function width($value){
        return $this->set_style('width',$value);
    }
    public function min_width($value){
        return $this->set_style('min-width',$value);
    }
    public function min_height($value){
        return $this->set_style('min-height',$value);
    }
    public function max_width($value){
        return $this->set_style('max-width',$value);
    }
    public function max_height($value){
        return $this->set_style('max-height',$value);
    }

    public function width_100percent(){
        return $this->width('100%');
    }
    public function height($value){
        return $this->set_style('height',$value);
    }
    public function height_100percent(){
        return $this->height('100%');
    }


    public function float($value){
        return $this->set_style('float',$value);
    }
    public function float_left(){
        return $this->float('left');
    }
    public function float_right(){
        return $this->float('right');
    }
    public function float_none(){
        return $this->float('none');
    }
    public function clear($value){
        return $this->set_style('clear',$value);
    }
    public function clear_left(){
        return $this->clear('left');
    }
    public function clear_right(){
        return $this->clear('right');
    }
    public function clear_both(){
        return $this->clear('both');
    }

    public function text_align($value){
        return $this->set_style('text-align',$value);
    }
    public function text_align_left(){
        return $this->text_align('left');
    }
    public function text_align_middle(){
        return $this->text_align('middle');
    }
    public function text_align_right(){
        return $this->text_align('right');
    }
    public function text_decoration($value){
        return $this->set_style('text-decoration',$value);
    }
    public function text_decoration_none(){
        return $this->text_decoration('none');
    }
    public function vertical_align($value){
        return $this->set_style('vertical-align',$value);
    }
    public function vertical_align_top(){
        return $this->vertical_align('top');
    }
    public function vertical_align_middle(){
        return $this->vertical_align('middle');
    }
    public function vertical_align_bottom(){
        return $this->vertical_align('bottom');
    }
    public function opacity($value){
        return $this->set_style('opacity',$value);
    }
    public function z_index($value){
        return $this->set_style('z-index',$value);
    }
    public function display($value){
        return $this->set_style('display',$value);
    }
    public function display_block(){
        return $this->display('block');
    }
    public function display_inline_block(){
        return $this->display('inline-block');
    }
    public function display_inline(){
        return $this->display('inline');
    }
    public function display_none(){
        return $this->display('none');
    }
    public function visibility($value){
        return $this->set_style('visibility',$value);
    }
    public function visibility_visible(){
        return $this->visibility('visible');
    }
    public function visibility_hidden(){
        return $this->visibility('hidden');
    }

    public function font_family($value){
        return $this->set_style('font-family',$value);
    }
    public function font_family_monospace(){
        return $this->font_family('monospace');
    }
    public function font_family_sans_serif(){
        return $this->font_family('san_serif');
    }
    public function font_family_serif(){
        return $this->font_family('serif');
    }
    public function font_size($value){
        return $this->set_style('font-size',$value);
    }
    public function font_size_100percent($value){
        return $this->font_size('100%');
    }
    public function font_weight($value){
        return $this->set_style('font-weight',$value);
    }
    public function font_weight_normal(){
        return $this->font_weight('normal');
    }
    public function font_weight_bold(){
        return $this->font_weight('bold');
    }
    public function font_style($value){
        return $this->set_style('font-style',$value);
    }
    public function font_variant($value){
        return $this->set_style('font-variant',$value);
    }
    public function line_height($value){
        return $this->set_style('line-height',$value);
    }
    //#list related
    public function list_style($value){
        return $this->set_style('list-style',$value);
    }
    public function list_style_none(){
        return $this->list_style('none');
    }

    public function overflow($value){
        return $this->set_style('overflow',$value);
    }
    public function overflow_hidden(){
        return $this->overflow('hidden');
    }
    public function overflow_visible(){
        return $this->overflow('visible');
    }
    public function oveflow_scroll(){
        return $this->overflow('scroll');
    }

    public function overflow_y($value){
        return $this->set_style('overflow-y',$value);
    }
    public function overflow_y_hidden(){
        return $this->overflow_y('hidden');
    }
    public function overflow_y_visible(){
        return $this->overflow_y('visible');
    }
    public function oveflow_y_scroll(){
        return $this->overflow_y('scroll');
    }

    public function overflow_x($value){
        return $this->set_style('overflow-x',$value);
    }
    public function overflow_x_hidden(){
        return $this->overflow_x('hidden');
    }
    public function overflow_x_visible(){
        return $this->overflow_x('visible');
    }
    public function overflow_x_scroll(){
        return $this->overflow_x('scroll');
    }


    public function zoom($value){
        return $this->set_style('zoom',$value);
    }
    public function cursor($value){
        return $this->set_style('cursor',$value);
    }
    public function cursor_pointer(){
        return $this->cursor('pointer');
    }
}

class StyleSheetForDevice{
    //==== some static storage for all media queries
    //-- we can use it to render all at once as a style tag
    private static $arr_of_all_device_specifc_stylesheets= array();
    public static function getAllDeviceSpecificStyleSheetsAsStyleTag(){
        $queries_as_string = join(" ",self::$arr_of_all_device_specifc_stylesheets);
        $tag = new SmartStyleTag();
        $tag->set_inner_html($queries_as_string);
        return $tag;
    }
    //================================
    private $where;
    private $css_selector_settings;
    public function __construct()
    {
        self::$arr_of_all_device_specifc_stylesheets[] = $this;
    }
    public static function instance(){
        return new self();
    }
    public function set_media_type($css_media_settings){
        $this->where = $css_media_settings;
        return $this;
    }
    public function set_stylesheet($css_selector_settings){
        $this->css_selector_settings = $css_selector_settings;
        return $this;
    }
    public function __toString()
    {
        return sprintf("@media %s {%s}",$this->where,$this->css_selector_settings);
    }
}

class MediaQueriesForSmartHtmlElement{
    private $media_queries_for_element = array();

    public function add($media_query){
        //todo: type check
        $this->media_queries_for_element[] = $media_query;
        return $this;
    }
    public function __toString()
    {
        //get style_tag
        return join(" ",$this->media_queries_for_element);
    }
    public static function instance(){
        return new self();
    }
    public function toStyleTag(){
        $tag = new SmartStyleTag();
        $tag->add_child($this->__toString());
        return $tag;
    }
}

//@@@@@@@@@@@@@@@@@@@@@@@@ basic behavior of all html elements @@@@@@@@@@22
abstract class SmartHTMLElement
{
    //---media query related
    private $media_queries;
    private function mediaQueries(){
        if(!$this->media_queries){
            $this->media_queries = new MediaQueriesForSmartHtmlElement();
        }
        return $this->media_queries;
    }
    public function add_media_query($css_media_query_revised_edition){
        $this->mediaQueries()->add($css_media_query_revised_edition);
        return $this;
    }
    //============== THE ORIGINAL CODE ===
    
    private $tag_name = 'span';
    private $arr_classes = array();
    private $arr_styles = array();
    private $arr_attributes = array();

    public static function line_break()
    {
        return "<br/>";
    }

    abstract protected function create_html_string($tag, $class_string, $style_string, $inner_html, $attribute_string);

    protected function get_class_string()
    {
        if (count($this->arr_classes) < 1) {
            return "";
        }
        $classes = join(" ", $this->arr_classes);
        return "class='{$classes}'";
    }

    protected function get_style_string()
    {
        if (count($this->arr_styles) < 1) {
            return "";
        }

        $result = '';
        $sep = "";
        foreach ($this->arr_styles as $property => $value) {
            $style_string = "{$sep}{$property}:{$value}";
            $result .= $style_string;
            $sep = ";";
        }
        return "style='{$result}'";
    }

    protected function get_attribute_string()
    {

        if (count($this->arr_attributes) < 1) {
            return "";
        }

        $result = '';
        $sep = "";
        foreach ($this->arr_attributes as $property => $value) {
            $property = htmlspecialchars($property);
            $value = htmlspecialchars($value);

            $key_value_string = "{$sep}{$property}='{$value}'";
            $result .= $key_value_string;
            $sep = " ";
        }
        return $result;
    }

    protected function get_inner_html()
    {
        $inner_html = '';
        if (isset($this->inner_html)) {
            $inner_html = $this->inner_html;
        }
        return $inner_html;
    }

    protected function get_tag_name()
    {
        return $this->tag_name;
    }

    /** @return SmartHTMLElement */
    public function add_class($class_string)
    {
        if(is_string($class_string) && strlen(trim($class_string)) > 0){
            $class_string = trim($class_string);
            $this->arr_classes[] = $class_string;
        }
        return $this;
    }
    /*
    public function default_class_name(){
        return md5(get_class($this));
    }*/

    
    public function set_style($property, $value)
    {
        $value = $this->pre_process_property_value($property, $value);
        $this->arr_styles[$property] = $value;
        return $this;
    }
    public function set_styles($assoc_array){
        if(is_array($assoc_array)){
            foreach($assoc_array as $property=>$value){
                $this->set_style($property,$value);
            }
        }
        return $this;
    }

    private function pre_process_property_value($property, $value)
    {
        return $property == 'width' && is_numeric($value) ? $value . "px" : $value;
    }


    public function set_inner_html($inner_html)
    {
        $this->inner_html = $inner_html;
        return $this;
    }

    protected function set_tag_name($tag_name)
    {
        $this->tag_name = $tag_name;
    }

    public function set_attribute($property, $value)
    {
        $this->arr_attributes[$property] = $value;
        return $this;
    }
    
    public function to_html()
    {
        $tag = htmlspecialchars($this->get_tag_name());
        $class_string = htmlspecialchars($this->get_class_string());
        $style_string = $this->get_style_string();
        $attribute_string = $this->get_attribute_string();
        $inner_html = $this->get_inner_html();
        $html = $this->create_html_string($tag, $class_string, $style_string, $inner_html, $attribute_string);
        return $html;
    }

    private static $enable_auto_display_of_media_queries_near_element = true;
    public static function disable_auto_display_of_media_queries_near_element(){
        self::$enable_auto_display_of_media_queries_near_element = false;
    }
    public function __toString()
    {

        //add default class
        //$this->add_class($this->default_class_name());

        ///modified to allow attaching of media queries
        $html = $this->to_html();
        if($this->media_queries && self::$enable_auto_display_of_media_queries_near_element){
            $html = $this->mediaQueries()->toStyleTag() . $html;
        }
        return $html;
    }

    public function toString()
    {
        return $this->__toString();
    }

    public function set_id($element_id)
    {
        $this->set_attribute('id', $element_id);
        return $this;
    }
    #@@@@@@@@@@@@@@@@ INLINE STYLING SHORTCUTS  @@@@@@@@@@@@@@@@@@@@@@
    public function background_color($value){
        return $this->set_style('background-color',$value);
    }
    public function background_image($value){
        return $this->set_style('background-image',$value);
    }
    public function background_image_url($value){
        return $this->set_style('background-image',"url($value)");
    }
    
    public function background_repeat($value){
        return $this->set_style('background-repeat',$value);
    }
    public function background_repeat_no_repeat(){
        return $this->background_repeat('no-repeat');
    }
    public function background_position($value){
        return $this->set_style('background-position',$value);
    }
    public function color($value){
        return $this->set_style('color',$value);
    }
    
    public function padding($value){
        return $this->set_style('padding',$value);
    }
    public function padding_top($value){
        return $this->set_style('padding-top',$value);
    }
    public function padding_bottom($value){
        return $this->set_style('padding-bottom',$value);
    }
    public function padding_left($value){
        return $this->set_style('padding-left',$value);
    }
    public function padding_right($value){
        return $this->set_style('padding-right',$value);
    }
    public function margin($value){
        return $this->set_style('margin',$value);
    }
    public function margin_top($value){
        return $this->set_style('margin-top',$value);
    }
    public function margin_bottom($value){
        return $this->set_style('margin-bottom',$value);
    }
    public function margin_left($value){
        return $this->set_style('margin-left',$value);
    }
    public function margin_right($value){
        return $this->set_style('margin-right',$value);
    }
    public function border($value){
        return $this->set_style('border',$value);
    }
    public function border_width($value){
        return $this->set_style('border-width',$value);
    }
    public function border_color($value){
        return $this->set_style('border-color',$value);
    }
    
    public function border_top($value){
        return $this->set_style('border-top',$value);
    }
    public function border_top_width($value){
        return $this->set_style('border-top-width',$value);
    }
    public function border_top_color($value){
        return $this->set_style('border-top-color',$value);
    }
    
    public function border_bottom($value){
        return $this->set_style('border-bottom',$value);
    }
    public function border_bottom_width($value){
        return $this->set_style('border-bottom-width',$value);
    }
    public function border_bottom_color($value){
        return $this->set_style('border-bottom-color',$value);
    }
    
    
    public function border_left($value){
        return $this->set_style('border-left',$value);
    }
    public function border_left_width($value){
        return $this->set_style('border-left-width',$value);
    }
    public function border_left_color($value){
        return $this->set_style('border-left-color',$value);
    }
    
    
    public function border_right($value){
        return $this->set_style('border-right',$value);
    }
    public function border_right_width($value){
        return $this->set_style('border-right-width',$value);
    }
    public function border_right_color($value){
        return $this->set_style('border-right-color',$value);
    }
    
    public function border_zero(){
        return $this->border('0');
    }

    public function position($value){
        return $this->set_style('position',$value);
    }
    public function postion_fixed(){
        return $this->position('fixed');
    }
    public function postion_absolute(){
        return $this->position('absolute');
    }
    public function position_relative(){
        return $this->position('relative');
    }
    
    public function left($value){
        return $this->set_style('left',$value);
    }
    public function top($value){
        return $this->set_style('top',$value);
    }
    public function right($value){
        return $this->set_style('right',$value);
    }
    public function bottom($value){
        return $this->set_style('bottom',$value);
    }
    public function width($value){
        return $this->set_style('width',$value);
    }
    public function min_width($value){
        return $this->set_style('min-width',$value);
    }
    public function min_height($value){
        return $this->set_style('min-height',$value);
    }
    public function max_width($value){
        return $this->set_style('max-width',$value);
    }
    public function max_height($value){
        return $this->set_style('max-height',$value);
    }
    
    public function width_100percent(){
        return $this->width('100%');
    }
    public function height($value){
        return $this->set_style('height',$value);
    }
    public function height_100percent(){
        return $this->height('100%');
    }
    

    public function float($value){
        return $this->set_style('float',$value);
    }
    public function float_left(){
        return $this->float('left');
    }
    public function float_right(){
        return $this->float('right');
    }
    public function float_none(){
        return $this->float('none');
    }
    public function clear($value){
        return $this->set_style('clear',$value);
    }
    public function clear_left(){
        return $this->clear('left');
    }
    public function clear_right(){
        return $this->clear('right');
    }
    public function clear_both(){
        return $this->clear('both');
    }
    
    public function text_align($value){
        return $this->set_style('text-align',$value);
    }
    public function text_align_left(){
        return $this->text_align('left');
    }
    public function text_align_center(){
        return $this->text_align('center');
    }
    public function text_align_right(){
        return $this->text_align('right');
    }
    public function text_decoration($value){
        return $this->set_style('text-decoration',$value);
    }
    public function text_decoration_none(){
        return $this->text_decoration('none');
    }
    public function vertical_align($value){
        return $this->set_style('vertical-align',$value);
    }
    public function vertical_align_top(){
        return $this->vertical_align('top');
    }
    public function vertical_align_middle(){
        return $this->vertical_align('middle');
    }
    public function vertical_align_bottom(){
        return $this->vertical_align('bottom');
    }
    public function vertical_align_baseline(){
        return $this->vertical_align('baseline');
    }
    public function opacity($value){
        return $this->set_style('opacity',$value);
    }
    public function z_index($value){
        return $this->set_style('z-index',$value);
    }
    public function display($value){
        return $this->set_style('display',$value);
    }
    public function display_block(){
        return $this->display('block');
    }
    public function display_inline_block(){
        return $this->display('inline-block');
    }
    public function display_inline(){
        return $this->display('inline');
    }
    public function display_none(){
        return $this->display('none');
    }
    public function visibility($value){
        return $this->set_style('visibility',$value);
    }
    public function visibility_visible(){
        return $this->visibility('visible');
    }
    public function visibility_hidden(){
        return $this->visibility('hidden');
    }

    public function font_family($value){
        return $this->set_style('font-family',$value);
    }
    public function font_family_monospace(){
        return $this->font_family('monospace');
    }
    public function font_family_sans_serif(){
        return $this->font_family('san_serif');
    }
    public function font_family_serif(){
        return $this->font_family('serif');
    }
    public function font_size($value){
        return $this->set_style('font-size',$value);
    }
    public function font_size_100percent($value){
        return $this->font_size('100%');
    }
    public function font_weight($value){
        return $this->set_style('font-weight',$value);
    }
    public function font_weight_normal(){
        return $this->font_weight('normal');
    }
    public function font_weight_bold(){
        return $this->font_weight('bold');
    }
    public function font_style($value){
        return $this->set_style('font-style',$value);
    }
    public function font_variant($value){
        return $this->set_style('font-variant',$value);
    }        
    public function line_height($value){
        return $this->set_style('line-height',$value);
    }    
    //#list related
    public function list_style($value){
        return $this->set_style('list-style',$value);
    }
    public function list_style_none(){
        return $this->list_style('none');
    }

    public function overflow($value){
        return $this->set_style('overflow',$value);
    }
    public function overflow_hidden(){
        return $this->overflow('hidden');
    }
    public function overflow_visible(){
        return $this->overflow('visible');
    }
    public function oveflow_scroll(){
        return $this->overflow('scroll');
    }

    public function overflow_y($value){
        return $this->set_style('overflow-y',$value);
    }
    public function overflow_y_hidden(){
        return $this->overflow_y('hidden');
    }
    public function overflow_y_visible(){
        return $this->overflow_y('visible');
    }
    public function oveflow_y_scroll(){
        return $this->overflow_y('scroll');
    }

    public function overflow_x($value){
        return $this->set_style('overflow-x',$value);
    }
    public function overflow_x_hidden(){
        return $this->overflow_x('hidden');
    }
    public function overflow_x_visible(){
        return $this->overflow_x('visible');
    }
    public function overflow_x_scroll(){
        return $this->overflow_x('scroll');
    }
        

    public function zoom($value){
        return $this->set_style('zoom',$value);
    }
    public function cursor($value){
        return $this->set_style('cursor',$value);
    }
    public function cursor_pointer(){
        return $this->cursor('pointer');
    }
    
}

//@@@@@@@@@@@@@@@@@@@@@@@@@@@ 2 VARIANTS OF HTML ELEMENTS
abstract class SmartNonReplacedHTMLElement extends SmartHTMLElement
{
    protected function create_html_string($tag, $class_string, $style_string, $inner_html, $attribute_string)
    {
        $additional_children = join("", $this->children);
        $inner_html .= $additional_children;
        //-------------------
        $html = "<$tag {$class_string} {$style_string} {$attribute_string} >{$inner_html}</$tag>";
        return $html;
    }

    private $children = array();
    
    public function hasChildren(){
        return count($this->children) > 0 || trim($this->get_inner_html());
    }

    /** @return SmartHTMLElement */
    public function add_child($smart_element)
    {
        $this->children[] = $smart_element . "";
        return $this;
    }
    public function add_child_if($condition,$smart_element)
    {
        if($condition){
            return $this->add_child($smart_element);
        }
        return $this;        
    }

    public function add_child_if_else($condition, $to_add_if_true, $to_add_if_false)
    {
        if($condition){
            return $this->add_child($to_add_if_true);
        }
        else{
            return $this->add_child($to_add_if_false);
        }        
    }

    public function set_inner_html($inner_html)
    {
        $this->children = array();
        parent::set_inner_html($inner_html);
        return $this;
    }

}

abstract class SmartReplacedHTMLElement extends SmartHTMLElement
{

    protected function create_html_string($tag, $class_string, $style_string, $inner_html, $attribute_string)
    {
        $html = "<$tag {$class_string} {$style_string} {$attribute_string} />";
        return $html;
    }

}

//@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ COMMON HTML ELEMENTS @@@@@@@@@@@@@@@@@@
class SmartSpan extends SmartNonReplacedHTMLElement
{
    public function __construct()
    {
        $this->set_tag_name("span");
    }
}

class SmartOption extends SmartNonReplacedHTMLElement
{
    public function __construct()
    {
        $this->set_tag_name("option");
    }

    public function set_value($value)
    {
        $this->set_attribute('value', $value);
        return $this;
    }
}

class SmartSelect extends SmartNonReplacedHTMLElement
{
    public function __construct()
    {
        $this->set_tag_name("select");
    }

    public function set_name($name)
    {
        $this->set_attribute('name', $name);
        return $this;
    }

    public function add_option($label, $value,$option_class ='')
    {
        $option = new SmartOption();
        $option->set_value($value);
        $option->set_inner_html($label);
        if($option_class){
            $option->add_class($option_class);
        }
        $this->add_child($option);
        return $this;
    }
}

//@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@2
class SmartListItem extends SmartNonReplacedHTMLElement
{
    public function __construct()
    {
        $this->set_tag_name("li");
    }

}

class SmartList extends SmartNonReplacedHTMLElement
{
    public function __construct()
    {
        $this->set_list_type_unordered();
    }

    public function set_list_type_ordered()
    {
        $this->set_tag_name("ol");
        return $this;
    }

    public function set_list_type_unordered()
    {
        $this->set_tag_name("ul");
        return $this;
    }


    public function add_list_item($content)
    {
        $this->add_child(
            (new SmartListItem())->set_inner_html($content)
        );
        return $this;
    }
}


//@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@2222

class SmartDiv extends SmartNonReplacedHTMLElement
{
    public function __construct()
    {
        $this->set_tag_name("div");
    }
}
class SmartHeading1 extends SmartNonReplacedHTMLElement
{
    public function __construct()
    {
        $this->set_tag_name("h1");
    }
}
class SmartHeading2 extends SmartNonReplacedHTMLElement
{
    public function __construct()
    {
        $this->set_tag_name("h2");
    }
}
class SmartHeading3 extends SmartNonReplacedHTMLElement
{
    public function __construct()
    {
        $this->set_tag_name("h3");
    }
}
class SmartHeading4 extends SmartNonReplacedHTMLElement
{
    public function __construct()
    {
        $this->set_tag_name("h4");
    }
}
class SmartHeading5 extends SmartNonReplacedHTMLElement
{
    public function __construct()
    {
        $this->set_tag_name("h5");
    }
}
class SmartHeading6 extends SmartNonReplacedHTMLElement
{
    public function __construct()
    {
        $this->set_tag_name("h6");
    }
}
class SmartParagraph extends SmartNonReplacedHTMLElement
{
    public function __construct()
    {
        $this->set_tag_name("p");
    }
}

class SmartTextarea extends SmartNonReplacedHTMLElement
{
    public function __construct()
    {
        $this->set_tag_name("textarea");
    }

    public function set_name($name)
    {
        $this->set_attribute('name', $name);
        return $this;
    }
}


class SmartLink extends SmartNonReplacedHTMLElement
{
    public function __construct()
    {
        $this->set_tag_name("a");
    }

    public function set_href($href)
    {
        $this->set_attribute('href', $href);
        return $this;
    }

}

class SmartDynamicLink
{
    private $arr_link_parameters = array();
    private $url;
    private $link = null;
    public static function create(){
        return new self();
    }
    public function __construct()
    {
        $this->link = new SmartLink();
    }
    public function inner_link(){
        return $this->link;
    }

    public function set_url($url)
    {
        $this->url = $url;
        return $this;
    }
    public function url(){
        return $this->url;
    }

    public function set_parameter($property, $value)
    {
        $this->arr_link_parameters[$property] = $value;
        return $this;
    }

    private function get_href()
    {
        $href = $this->url;
        if (is_array($this->arr_link_parameters) &&
            count($this->arr_link_parameters)
        ) {
            $href .= "?";
            $sep = "";
            foreach ($this->arr_link_parameters as $property => $value) {
                $href .= join("", array($sep, $property, "=", $value));
                $sep = "&";
            }
        }
        return $href;
    }

    public function __toString()
    {
        $this->link->set_href($this->get_href());
        return $this->link->toString() . "";
    }

    public function toString()
    {
        return $this->__toString();
    }

    public function add_class($class_name)
    {
        $this->link->add_class($class_name);
        return $this;
    }

    public function add_child($child_element)
    {
        $this->link->add_child($child_element);
        return $this;
    }

    public function set_inner_html($inner_html)
    {
        $this->link->set_inner_html($inner_html);
        return $this;
    }

    public function set_style($property, $value)
    {
        $this->link->set_style($property, $value);
        return $this;
    }
}

class SmartForm extends SmartNonReplacedHTMLElement
{
    public function __construct()
    {
        $this->set_tag_name('form');
        $this->set_attribute('enctype', 'multipart/form-data');
        $this->use_post_method();
    }

    public function use_get_method()
    {
        $this->set_attribute('method', 'GET');
        return $this;
    }

    public function use_post_method()
    {
        $this->set_attribute('method', 'POST');
        return $this;
    }

    public function set_url($url)
    {
        $this->set_attribute('action', $url);
        return $this;
    }

}

class SmartTaskForm extends SmartForm
{
    public function add_hidden_input($name, $value)
    {
        $this->add_child(HiddenInput::create()->set_name($name)->set_value($value));
        return $this;
    }

    private $text;

    public function set_text($text)
    {
        $this->text = $text;
        return $this;
    }

    protected function create_html_string($tag, $class_string, $style_string, $inner_html, $attribute_string)
    {
        $this->add_child($this->get_submit_button());
        return parent::create_html_string($tag, $class_string, $style_string, $inner_html, $attribute_string);
    }

    private function get_submit_button()
    {
        $submit_btn = SubmitInput::create()->set_value($this->text);
        $submit_btn->set_styles($this->assoc_submit_btn_styles);
        return $submit_btn;
    }
    private $assoc_submit_btn_styles = array();
    public function add_style_to_submit_button($property,$value){
        $this->assoc_submit_btn_styles[$property] = $value;
        return $this;
    }
}

class SmartLabel extends SmartNonReplacedHTMLElement
{
    public function __construct($content='')
    {
        $this->set_tag_name("label");
        $this->set_inner_html($content);
    }    
}

abstract class SmartInput extends SmartReplacedHTMLElement
{
    public function __construct()
    {
        $this->set_tag_name("input");
    }

    public function disable()
    {
        $this->set_attribute('disabled', 'true');
        return $this;
    }

    public static function create(){

    }

    public function set_type($type)
    {
        $this->set_attribute('type', $type);
        return $this;
    }

    public function set_name($name)
    {
        $this->set_attribute('name', $name);
        return $this;
    }

    public function set_value($value)
    {
        $this->set_attribute('value', $value);
        return $this;
    }
    public function autofocus(){
        $this->set_attribute("autofocus","autofocus");
        return $this;
    }
}

class TextInput extends SmartInput
{
    public function __construct()
    {
        parent::__construct();
        $this->set_type('text');
    }

    public static function create()
    {
        return new self();
    }
}

class PasswordInput extends SmartInput
{
    public function __construct()
    {
        parent::__construct();
        $this->set_type('password');
    }

    public static function create()
    {
        return new self();
    }
}

class SearchInput extends SmartInput
{
    public function __construct()
    {
        parent::__construct();
        $this->set_type('search');
    }

    public static function create()
    {
        return new self();
    }
}

class SubmitInput extends SmartInput
{
    public function __construct()
    {
        parent::__construct();
        $this->set_type('submit');
    }

    public static function create()
    {
        return new self();
    }
}

class ButtonInput extends SmartInput
{
    public function __construct()
    {
        parent::__construct();
        $this->set_type('button');
    }

    public static function create()
    {
        return new self();
    }
}

class HiddenInput extends SmartInput
{
    public function __construct()
    {
        parent::__construct();
        $this->set_type('hidden');
    }

    public static function create()
    {
        return new self();
    }
}

class RadioInput extends SmartInput
{
    public function __construct()
    {
        parent::__construct();
        $this->set_type('radio');
    }

    public static function create()
    {
        return new self();
    }
}

class CheckboxInput extends SmartInput
{
    public function __construct()
    {
        parent::__construct();
        $this->set_type('checkbox');
    }

    public static function create()
    {
        return new self();
    }
}


class FileInput extends SmartInput
{
    public function __construct()
    {
        parent::__construct();
        $this->set_type('file');
    }

    public static function create()
    {
        return new self();
    }
}

class RadioSet
{
    private $name = '';
    private $assoc_array_value_and_label = array();

    protected function __construct($name)
    {
        $this->name = $name;
    }

    public static function from_name($name)
    {
        return new RadioSet($name);
    }

    public function add_radio_button($label, $value)
    {
        $this->assoc_array_value_and_label[$value] = $label;
        return $this;
    }

    public function __toString()
    {
        $html = '';
        foreach ($this->assoc_array_value_and_label as $value => $label) {
            $radio_btn = $this->wrap_radio_button(
                RadioInput::create()->set_name($this->name)->set_value($value)->add_class($this->radio_class)->toString()
            );
            $label = $this->wrap_label($label);

            $item = $this->wrap_item(
                $radio_btn . $label
            );
            $html .= $item;
        }
        return $html . "";
    }

    public function toString()
    {
        return $this->__toString();
    }

    protected function wrap_radio_button($radio_button)
    {
        return $radio_button;
    }

    protected function wrap_label($label)
    {
        return $label;
    }

    protected function wrap_item($item_html)
    {
        return $item_html;
    }

    private $radio_class = '';

    public function set_radio_class($radio_class)
    {
        $this->radio_class = $radio_class;
        return $this;
    }

}

class SmartImage extends SmartReplacedHTMLElement
{
    public function __construct($src, $width = '', $height = '')
    {
        $this->set_tag_name("img");
        $this->set_attribute("src", $src);
        if ($width) {
            $this->set_attribute('width', $width);
        }
        if ($height) {
            $this->set_attribute('height', $height);
        }
    }

}

//@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
class SmartBlock extends SmartDiv
{
}

class SmartInlineBlock extends SmartSpan
{
    public function __construct()
    {
        parent::__construct();
        $this->add_class(SmartCSSClass::$smt_inline_block);
    }
}

//@@@@@@@@@@@@@@@ PAGE, HTML HEADER, BODY, TITLE, LINK, META
class SmartHTMLTag extends SmartNonReplacedHTMLElement
{
    public function __construct()
    {
        $this->set_tag_name("html");
    }
    public function set_xml_namespace($xmlns){
        $this->set_attribute('xmlns',$xmlns);
        return $this;
    }

    public static function create()
    {
        return new self();
    }
}

class SmartBodyTag extends SmartNonReplacedHTMLElement
{
    public function __construct()
    {
        $this->set_tag_name("body");
    }

    public static function create()
    {
        return new self();
    }
}

class SmartHeaderTag extends SmartNonReplacedHTMLElement
{
    public function __construct()
    {
        $this->set_tag_name("head");
    }

    public static function create()
    {
        return new self();
    }
}

class SmartTitleTag extends SmartNonReplacedHTMLElement
{
    public function __construct()
    {
        $this->set_tag_name("title");
    }

    public static function create()
    {
        return new self();
    }
}

abstract class SmartLinkTag extends SmartReplacedHTMLElement
{
    protected function __construct()
    {
        $this->set_tag_name("link");
    }

    protected function set_relationship($relationship)
    {
        $this->set_attribute('rel', $relationship);
        return $this;
    }

    public function set_type($type)
    {
        $this->set_attribute('type', $type);
        return $this;
    }

    public function set_href($href)
    {
        $this->set_attribute('href', $href);
        return $this;
    }

}

class SmartCSSLink extends SmartLinkTag
{
    public function __construct()
    {
        parent::__construct();
        $this->set_relationship('stylesheet');
        $this->set_type('text/css');
    }

    public static function create()
    {
        return new self();
    }

}
class SmartOtherLink extends SmartLinkTag
{
    public function __construct()
    {
        parent::__construct();
    }
    public function set_relationship($relationship){
        parent::set_relationship($relationship);
        return $this;
    }
    public function set_type($type){
        parent::set_type($type);
        return $this;
    }
    public function set_href($href){
        parent::set_href($href);
        return $this;
    }

    public static function create()
    {
        return new self();
    }

}

abstract class SmartMetaTag extends SmartReplacedHTMLElement
{
    protected function __construct()
    {
        $this->set_tag_name("meta");
    }

    protected function set_http_equivalent($http_equivalent)
    {
        $this->set_attribute('http-equivalent', $http_equivalent);
        return $this;
    }

    protected function set_content($content)
    {
        $this->set_attribute('content', $content);
        return $this;
    }
    protected function set_name($name)
    {
        $this->set_attribute('name', $name);
        return $this;
    }

}
class SmartViewportMetaTag extends SmartMetaTag
{
    public function __construct()
    {
        parent::__construct();
        $this->set_name("viewport");
        $this->set_content("width=device-width, height=device-height, initial-scale=1");
    }

}

class SmartMetadataTag_XUACompatible extends SmartMetaTag
{
    public function __construct()
    {
        parent::__construct();
        $this->set_xua_compatible('');
    }

    public static function create()
    {
        return new self();
    }

    public function set_xua_compatible($content)
    {
        $this->set_http_equivalent('X-UA-Compatible');
        $this->set_content($content);
        return $this;
    }

    public function set_xua_compatible_ie8()
    {
        return $this->set_xua_compatible('IE-8');
    }


}

class SmartMetadataTag_ContentType extends SmartMetaTag
{
    public function __construct()
    {
        parent::__construct();
        $this->set_content_type('');
    }

    public static function create()
    {
        return new self();
    }

    public function set_content_type($content)
    {
        $this->set_http_equivalent('Content-Type');
        $this->set_content($content);
        return $this;
    }

    public function set_content_type_html_utf8()
    {
        return $this->set_content_type('text/html;charset=utf-8');
    }
}

abstract class SmartScriptTag extends SmartNonReplacedHTMLElement
{
    protected function __construct()
    {
        $this->set_tag_name("script");
    }

    protected function set_type($type)
    {
        $this->set_attribute('type', $type);
        return $this;
    }

    public function set_src($src)
    {
        $this->set_attribute('src', $src);
        return $this;
    }

}

class SmartJavascriptTag extends SmartScriptTag
{
    public function __construct()
    {
        parent::__construct();
        $this->set_type('text/javascript');
    }

    public static function create()
    {
        return new self();
    }

}

class SmartNoScriptTag extends SmartNonReplacedHTMLElement
{
    public function __construct()
    {
        $this->set_tag_name("noscript");
    }

    public static function create()
    {
        return new self();
    }
}
class SmartStyleTag extends SmartNonReplacedHTMLElement
{
    public function __construct()
    {
        $this->set_tag_name("style");
        $this->set_type_to_text_css();
        $this->set_attribute("rel","stylesheet");
    }
    public function set_type($type){
        $this->set_attribute("type",$type);
        return $this;
    }
    public function set_type_to_text_css(){
        $this->set_attribute("type","text/css");
        return $this;
    }
}

//@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
class SmartHTMLPage
{
    private $doc_type_string = '', $head, $body, $title_tag, $metadata_compatible_tag, $metadata_content_type,$html_tag;

    public function __construct()
    {
        $this->html_tag = SmartHTMLTag::create();
        $this->title_tag = SmartTitleTag::create();
        $this->head = SmartHeaderTag::create();
        $this->body = SmartBodyTag::create();
        //======
        $this->metadata_compatible_tag = SmartMetadataTag_XUACompatible::create()->set_xua_compatible_ie8();
        $this->metadata_content_type = SmartMetadataTag_ContentType::create()->set_content_type_html_utf8();
        $this->set_view_port_to_device_width();
    }

    public function set_doc_type_string($doc_type_string)
    {
        $this->doc_type_string = $doc_type_string;
        return $this;
    }

    public function set_xua_compatible_value($value)
    {
        $this->metadata_compatible_tag = SmartMetadataTag_XUACompatible::create()->set_xua_compatible($value);
    }

    public static function create()
    {
        return new self();
    }

    public function set_title($title)
    {
        $this->title_tag->set_inner_html($title);
        return $this;
    }

    protected function add_child_to_head($child_element)
    {
        $this->head->add_child($child_element);
        return $this;
    }
    private function set_view_port_to_device_width()
    {
        $this->head->add_child(new SmartViewportMetaTag());
        return $this;
    }
    public function add_header_link($relationship,$type,$href){
        $this->add_child_to_head(SmartOtherLink::create()
            ->set_relationship($relationship)->set_type($type)->set_href($href));
        return $this;

    }

    public function add_child_to_body($child_element)
    {
        $this->body->add_child($child_element);
        return $this;
    }
    public function add_style_to_body($property,$value)
    {
        $this->body->set_style($property,$value);
        return $this;
    }

    public function add_class_to_body($class)
    {
        $this->body->add_class($class);
        return $this;
    }

    public function add_css_link($href)
    {
        return $this->add_child_to_head(SmartCSSLink::create()->set_href($href));
    }

    public function add_javascript_link_to_head($src)
    {
        return $this->add_child_to_head(SmartJavascriptTag::create()->set_src($src));
    }

    public function add_inline_javascript_to_head($inner_html)
    {
        return $this->add_child_to_head(SmartJavascriptTag::create()->set_inner_html($inner_html));
    }

    public function add_javascript_link_to_body($src)
    {
        return $this->add_child_to_body(SmartJavascriptTag::create()->set_src($src));
    }

    public function add_inline_javascript_to_body($inner_html)
    {
        return $this->add_child_to_body(SmartJavascriptTag::create()->set_inner_html($inner_html));
    }

    public function set_xml_namespace($xmlns){
        $this->html_tag->set_xml_namespace($xmlns);
        return $this;
    }

    public function __toString()
    {
        $this->add_child_to_head($this->metadata_content_type);
        $this->add_child_to_head($this->metadata_compatible_tag);
        $this->add_child_to_head($this->title_tag);

        $html_tag = $this->html_tag
            ->add_child($this->head)
            ->add_child($this->body);


        return $this->doc_type_string . $html_tag->toString() . "";
    }

    public function toString()
    {
        return $this->__toString();
    }
}

//@@@@@@@@@@@@@@@@@@@@@@@@@@ CREATOR CLASSES @@@@@@@@@@@@@@@@@22@

abstract class CreateSmartElement
{


    protected static function  __create_blue_background($element, $content)
    {
        $element->set_inner_html($content);
        $element->add_class(SmartCSSClass::$smt_background_color__blue);
        return $element;
    }

    protected static function  __create_wallpost_background($element, $content)
    {
        $element->set_inner_html($content);
        $element->add_class(SmartCSSClass::$smt_background_color__wallpost);
        return $element;
    }

    protected static function  __text_align_center($element, $content)
    {
        $element->set_inner_html($content);
        $element->add_class(SmartCSSClass::$smt_center_aligned);
        return $element;
    }

    protected static function  __text_align_right($element, $content)
    {
        $element->set_inner_html($content);
        $element->add_class(SmartCSSClass::$smt_right_aligned);
        return $element;
    }

    protected static function  __vertical_align_top($element, $content)
    {
        $element->set_inner_html($content);
        $element->add_class(SmartCSSClass::$smt_top_aligned);
        return $element;
    }

    protected static function  __vertical_align_middle($element, $content)
    {
        $element->set_inner_html($content);
        $element->add_class(SmartCSSClass::$smt_middle_aligned);
        return $element;
    }

    protected static function  __create_tooltip_background($element, $content)
    {
        $element->set_inner_html($content);
        $element->add_class(SmartCSSClass::$smt_background_color__tooltip);
        return $element;
    }

    protected static function  __create_white_background($element, $content)
    {
        $element->set_inner_html($content);
        $element->add_class(SmartCSSClass::$smt_background_color__white);
        return $element;
    }

    protected static function  __create_border($element, $content)
    {
        $element->set_inner_html($content);
        $element->add_class(SmartCSSClass::$smt_border);
        return $element;
    }

    protected static function  __create_border_top($element, $content)
    {
        $element->set_inner_html($content);
        $element->add_class(SmartCSSClass::$smt_border__top);
        return $element;
    }

    protected static function  __create_border_bottom($element, $content)
    {
        $element->set_inner_html($content);
        $element->add_class(SmartCSSClass::$smt_border__bottom);
        return $element;
    }

    protected static function  __create_spacer($element, $content)
    {
        $element->set_inner_html($content);
        $element->add_class(SmartCSSClass::$smt_spacer);
        return $element;
    }

    protected static function  __create_horizontal_spacer($element, $content)
    {
        $element->set_inner_html($content);
        $element->add_class(SmartCSSClass::$smt_horizontal_spacer);
        return $element;
    }

    protected static function  __create_blue_header($element, $content)
    {
        $element->set_inner_html($content);
        $element->add_class(SmartCSSClass::$smt_header . " " . SmartCSSClass::$smt_color_blue);
        return $element;
    }

    protected static function  __create_white_header($element, $content)
    {
        $element->set_inner_html($content);
        $element->add_class(SmartCSSClass::$smt_header . " " . SmartCSSClass::$smt_color_white);
        return $element;
    }

    protected static function  __create_black_header($element, $content)
    {
        $element->set_inner_html($content);
        $element->add_class(SmartCSSClass::$smt_header . " " . SmartCSSClass::$smt_color_black);
        return $element;
    }

    protected static function  __create_blue_descriptor($element, $content)
    {
        $element->set_inner_html($content);
        $element->add_class(SmartCSSClass::$smt_descriptor . " " . SmartCSSClass::$smt_color_blue);
        return $element;
    }

    protected static function  __create_paragraph_descriptor($element, $content)
    {
        $element->set_inner_html($content);
        $element->add_class(SmartCSSClass::$smt_descriptor . " " . SmartCSSClass::$smt_color_paragraph);
        return $element;
    }

    protected static function  __create_gray_header($element, $content)
    {
        $element->set_inner_html($content);
        $element->add_class(SmartCSSClass::$smt_header . " " . SmartCSSClass::$smt_color_gray);
        return $element;
    }

    protected static function  __create_dark_gray_header($element, $content)
    {
        $element->set_inner_html($content);
        $element->add_class(SmartCSSClass::$smt_header . " " . SmartCSSClass::$smt_color_dark_gray);
        return $element;
    }

    protected static function  __create_main_descriptor($element, $content)
    {
        $element->set_inner_html($content);
        $element->add_class(SmartCSSClass::$smt_descriptor . " " . SmartCSSClass::$smt_color_main_descriptor);
        return $element;
    }

    protected static function  __create_gray_descriptor($element, $content)
    {
        $element->set_inner_html($content);
        $element->add_class(SmartCSSClass::$smt_descriptor . " " . SmartCSSClass::$smt_color_gray_descriptor);
        return $element;
    }

    protected static function  __create_button_background__gray($element, $content)
    {
        $element->set_inner_html($content);
        $element->add_class(SmartCSSClass::$smt_button_background__gray);
        return $element;
    }

    protected static function  __create_button_background__green($element, $content)
    {
        $element->set_inner_html($content);
        $element->add_class(SmartCSSClass::$smt_button_background__green);
        return $element;
    }

    protected static function  __create_button_border__gray($element, $content)
    {
        $element->set_inner_html($content);
        $element->add_class(SmartCSSClass::$smt_button_border__gray);
        return $element;
    }
}


abstract class BaseCreateBlockElement extends CreateSmartElement
{

}

class CreateInlineElement extends CreateSmartElement
{
    public static function create_base_element()
    {
        return new SmartSpan();
    }

    public static function image($src, $width = '', $height = '')
    {
        $element = new SmartImage($src, $width, $height);
        return $element;
    }

    public static function  blue_header($content)
    {
        $element = new SmartSpan();
        return parent::__create_blue_header($element, $content);
    }

    public static function  white_header($content)
    {
        $element = new SmartSpan();
        return parent::__create_white_header($element, $content);
    }

    public static function  black_header($content)
    {
        $element = new SmartSpan();
        return parent::__create_black_header($element, $content);
    }

    public static function  blue_descriptor($content)
    {
        $element = new SmartSpan();
        return parent::__create_blue_descriptor($element, $content);
    }

    public static function  paragraph($content)
    {
        $element = new SmartSpan();
        return parent::__create_paragraph_descriptor($element, $content);
    }

    public static function  gray_header($content)
    {
        $element = new SmartSpan();
        return parent::__create_gray_header($element, $content);
    }

    public static function  dark_gray_header($content)
    {
        $element = new SmartSpan();
        return parent::__create_dark_gray_header($element, $content);
    }

    public static function  gray_descriptor($content)
    {
        $element = new SmartSpan();
        return parent::__create_gray_descriptor($element, $content);
    }

    public static function  main_descriptor($content)
    {
        $element = new SmartSpan();
        return parent::__create_main_descriptor($element, $content);
    }
}

class CreateBlockElement extends BaseCreateBlockElement
{
    public static function create_base_element()
    {
        return new SmartBlock();
    }

    public static function information_header($content)
    {

        $html = CreateBlockElement::wallpost_background(
            CreateBlockElement::spacer(
                CreateInlineElement::black_header($content)
            )
        );
        return $html;
    }

    public static function centered_information_header($content)
    {
        return CreateBlockElement::wallpost_background(CreateBlockElement::text_align_center(CreateBlockElement::spacer($content)));
    }

    public static function white_bordered_background($content)
    {
        return CreateBlockElement::border(
            CreateBlockElement::white_background(
                CreateBlockElement::spacer(
                    $content
                )
            )
        );

    }

    public static function two_column($left_content,$right_content, $left_percentage = 50,$right_percentage = 50,$left_column_class=null,$right_column_class=null){
        $left = (new SmartSpan())->add_class(SmartCSSClass::$smt_inline_block)->add_class(SmartCSSClass::$smt_top_aligned)->add_class($left_column_class)->set_style('width',"{$left_percentage}%");
        $right = (new SmartSpan())->add_class(SmartCSSClass::$smt_inline_block)->add_class(SmartCSSClass::$smt_top_aligned)->add_class($right_column_class)->set_style('width',"{$right_percentage}%");


        $left->set_inner_html($left_content);
        $right->set_inner_html($right_content);
        $div = (new SmartDiv())->add_child($left)->add_child($right);
        return $div->toString();

    }

    public static function  wallpost_background($content)
    {
        $element = new SmartBlock();
        return parent::__create_wallpost_background($element, $content);
    }

    public static function  blue_background($content)
    {
        $element = new SmartBlock();
        return parent::__create_blue_background($element, $content);
    }

    public static function div($content)
    {
        $element = new SmartBlock();
        $element->set_inner_html($content);
        return $element;
    }

    public static function  white_background($content)
    {
        $element = new SmartBlock();
        return parent::__create_white_background($element, $content);
    }

    public static function  border($content)
    {
        $element = new SmartBlock();
        return parent::__create_border($element, $content);
    }

    public static function  border_top($content)
    {
        $element = new SmartBlock();
        return parent::__create_border_top($element, $content);
    }

    public static function  border_bottom($content)
    {
        $element = new SmartBlock();
        return parent::__create_border_bottom($element, $content);
    }

    public static function  spacer($content)
    {
        $element = new SmartBlock();
        return parent::__create_spacer($element, $content);
    }

    public static function  horizontal_spacer($content)
    {
        $element = new SmartBlock();
        return parent::__create_horizontal_spacer($element, $content);
    }

    public static function text_align_center($content)
    {
        $element = new SmartBlock();
        return parent::__text_align_center($element, $content);
    }

    public static function text_align_right($content)
    {
        $element = new SmartBlock();
        return parent::__text_align_right($element, $content);
    }

    public static function fixed_width($width, $content)
    {
        $element = new SmartBlock();
        $element->set_inner_html($content);
        $element->set_style("width", $width);
        return $element;
    }
}

class CreateInlineBlock extends BaseCreateBlockElement
{

    public static function create_base_element()
    {
        return new SmartInlineBlock();
    }

    public static function span($content)
    {
        $element = new SmartInlineBlock();
        $element->set_inner_html($content);
        return $element;
    }

    public static function vertical_align_top($content)
    {
        $element = new SmartInlineBlock();
        return parent::__vertical_align_top($element, $content);
    }

    public static function vertical_align_middle($content)
    {
        $element = new SmartInlineBlock();
        return parent::__vertical_align_middle($element, $content);
    }

    public static function  wallpost_background($content)
    {
        $element = new SmartInlineBlock();
        return parent::__create_wallpost_background($element, $content);
    }

    public static function  blue_background($content)
    {
        $element = new SmartInlineBlock();
        return parent::__create_blue_background($element, $content);
    }

    public static function  tooltip_background($content)
    {
        $element = new SmartInlineBlock();
        return parent::__create_tooltip_background($element, $content);
    }

    public static function  button_background__gray($content)
    {
        $element = new SmartInlineBlock();
        return parent::__create_button_background__gray($element, $content);
    }

    public static function  button_background__green($content)
    {
        $element = new SmartInlineBlock();
        return parent::__create_button_background__green($element, $content);
    }

    public static function  button_border__gray($content)
    {
        $element = new SmartInlineBlock();
        return parent::__create_button_border__gray($element, $content);
    }

    public static function  white_background($content)
    {
        $element = new SmartInlineBlock();
        return parent::__create_white_background($element, $content);
    }

    public static function  border($content)
    {
        $element = new SmartInlineBlock();
        return parent::__create_border($element, $content);
    }

    public static function  border_top($content)
    {
        $element = new SmartInlineBlock();
        return parent::__create_border_top($element, $content);
    }

    public static function  border_bottom($content)
    {
        $element = new SmartInlineBlock();
        return parent::__create_border_bottom($element, $content);
    }

    public static function  spacer($content)
    {
        $element = new SmartInlineBlock();
        return parent::__create_spacer($element, $content);
    }

    public static function  horizontal_spacer($content)
    {
        $element = new SmartInlineBlock();
        return parent::__create_horizontal_spacer($element, $content);
    }

    public static function gray_button($content)
    {
        return
            CreateInlineBlock::button_border__gray(
                CreateInlineBlock::button_background__gray(
                    CreateInlineBlock::spacer(
                        CreateInlineBlock::horizontal_spacer(
                            CreateInlineElement::black_header($content)
                        )
                    )
                )
            );
    }

    public static function green_button($content)
    {
        return
            CreateInlineBlock::button_border__gray(
                CreateInlineBlock::button_background__green(
                    CreateInlineBlock::spacer(
                        CreateInlineBlock::horizontal_spacer(
                            CreateInlineElement::white_header($content)
                        )
                    )
                )
            );
    }

    public static function fixed_width($width, $content)
    {
        $element = new SmartInlineBlock();
        $element->set_inner_html($content);
        $element->set_style("width", $width);
        $element->set_style("overflow-x", 'hidden');
        $element->set_style("display", 'inline-block');
        return $element;
    }

    public static function card_alert($context, $lens, $triggers)
    {
        return CreateInlineBlock::spacer(
            CreateInlineBlock::vertical_align_middle(CreateInlineBlock::spacer($context)) .
                CreateInlineBlock::vertical_align_middle(CreateInlineBlock::spacer($lens)) .
                CreateInlineBlock::vertical_align_middle(CreateInlineBlock::spacer($triggers))
        );
    }

    public static function card_record($context, $lens, $triggers)
    {
        return CreateInlineBlock::spacer(
            CreateBlockElement::spacer($context) .
                CreateBlockElement::spacer($lens) .
                CreateBlockElement::spacer($triggers)
        );
    }

    public static function card_teaser($context, $lens, $triggers)
    {
        return CreateInlineBlock::spacer(
            CreateBlockElement::spacer(
                CreateInlineBlock::spacer($context) . CreateInlineBlock::spacer($triggers)
            ) .
                CreateBlockElement::spacer($lens)
        );
    }

    public static function card_wallpost($context, $lens, $triggers)
    {
        return CreateInlineBlock::spacer(
            CreateInlineBlock::vertical_align_top(CreateInlineBlock::spacer($context))
                .
                CreateInlineBlock::vertical_align_top(
                    CreateInlineBlock::spacer(
                        CreateBlockElement::spacer($lens) .
                            CreateBlockElement::spacer($triggers)
                    )
                )

        );
    }

}

//@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ DEMO WIDGETS

//@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@2

abstract class UIContainer
{
    public abstract function __toString();

    public function toString()
    {
        return $this->__toString();
    }
}

class UITableLeftRight extends UIContainer
{
    private $left_content, $right_content, $far_right;

    protected function __construct($left_content, $right_content, $far_right = '')
    {
        $this->left_content = $left_content;
        $this->right_content = $right_content;
        $this->far_right = $far_right;
    }


    public function __toString()
    {
        $left_content = $this->left_content;
        $right_content = $this->right_content;
        $far_right_content = $this->far_right;

        $class_top_aligned = SmartCSSClass::$smt_top_aligned;
        $class_inline_block = SmartCSSClass::$smt_inline_block;

        $left = "<span class='{$class_inline_block} {$class_top_aligned}'>{$left_content}</span>";
        $right = "<span class='{$class_inline_block} {$class_top_aligned} resp_updates_width_490'>{$right_content}</span>";
        $far_right = "<span class='{$class_top_aligned}'>{$far_right_content}</span>";

        $html = "<div><div>{$left}{$right}{$far_right}</div></div>";
        return $html;
        //=====
        //return CreateBlockElement::two_column($left_content,$right_content,20,80);
    }

    public static function from_content($left, $right, $far_right = '')
    {
        return new UITableLeftRight($left, $right, $far_right);
    }
}


interface IStackPanel
{
    static function create();

    function add($item);

    function toString();

    function should_space_items($should_space_items);
}


abstract class UICBasePanel extends UIContainer implements IStackPanel
{
    private $arr_items = array();
    private $should_space_items = true;
    private $overall_container;

    public function __construct()
    {
        $this->overall_container = $this->getOverallContainerHtmlElement();
    }

    public function add_class($class)
    {
        $this->overall_container->add_class($class);
        return $this;
    }

    public function set_style($property, $value)
    {
        $this->overall_container->set_style($property, $value);
        return $this;
    }

    public function should_space_items($should_space_items)
    {
        if (!$should_space_items) {
            $this->should_space_items = false;
        }
        else{
            $this->should_space_items = true;
        }
        return $this;
    }

    public function add($item)
    {
        $this->arr_items[] = $item;
        return $this;
    }

    /** @return SmartHTMLElement */
    abstract protected function wrap_item($item);
    
    protected function wrap_panel($panel_html)
    {
        return $panel_html;
    }

    private $index_of_current_item = 0;

    protected function current_item_index()
    {
        return $this->index_of_current_item;
    }


    public function __toString()
    {

        $this->index_of_current_item = 0;

        //wrap each element in div
        $arr_transformed_elements = array();
        foreach ($this->arr_items as $item) {
            $item = $this->space_item($item);
            $wrapped_item = $this->wrap_item($item);
            $final_item_html = $this->get_html_before_item() . $wrapped_item;
            $arr_transformed_elements[] = $final_item_html;
            //................
            $this->index_of_current_item += 1;
        }
        $result = join("", $arr_transformed_elements);
        //--------
        $this->overall_container->set_inner_html($this->wrap_panel($result));
        return $this->overall_container->toString() . "";
    }

    protected function space_item($item)
    {
        $div = new SmartDiv();
        $div->set_inner_html($item);

        if ($this->should_space_items) {
            $div->padding("5px");
        }
        return $div;
    }

    protected function get_html_before_item()
    {
        return "";
    }

    /**
     * @return SmartHTMLElement
     */
    protected function getOverallContainerHtmlElement()
    {
        return new SmartDiv();
    }
}


class UICStackPanel extends UICBasePanel
{

    private $item_class_name_array = array();    
    public function add_class_to_item($item_class){
        $this->item_class_name_array[] = $item_class;
    }

    private $assoc_array_for_row_classes = array();
    public function add_class_to_item_at_index($number, $class)
    {
        $number = intval($number);
        $current_class_string =
            array_key_exists($number,$this->assoc_array_for_row_classes) ?
                $this->assoc_array_for_row_classes[$number]." ": "";

        $current_class_string .= $class;
        $this->assoc_array_for_row_classes[$number] = $current_class_string;
    }

    protected function wrap_item($item)
    {
        $container_for_item = new SmartDiv();
        $container_for_item->set_inner_html($item);
        foreach($this->item_class_name_array as $item_class){
            $container_for_item->add_class($item_class);
        }
        $item_index = $this->current_item_index();
        if(array_key_exists($item_index,$this->assoc_array_for_row_classes)){
            $container_for_item->add_class($this->assoc_array_for_row_classes[$item_index]);
        }
        return $container_for_item;
    }

    public static function create()
    {
        return new UICStackPanel();
    }

}

class UICDropdownPanel extends UICBasePanel
{
    private $container_element;
    public function __construct()
    {
        $this->container_element = new SmartSelect();
        parent::__construct();
    }

    public function set_name($name)
    {
        $this->container_element->set_name($name);
        return $this;
    }

    protected function wrap_item($item)
    {

        return $item;
    }
    private $item_class_name_array = array();
    public function add_class_to_item($item_class){
        //todo: this class is actually not adding the specified classes as of now
        $this->item_class_name_array[] = $item_class;
    }

    public static function create()
    {
        return new UICDropdownPanel();
    }
    protected function getOverallContainerHtmlElement()
    {
        return $this->container_element;
    }

}

class UICColumnPanel extends UICBasePanel
{

    private $default_item_width = 160;
    private $item_width_map = array();
    private $column_width_map = array(); //stores width of each column, for columns whose width has been explicitly set
    private function is_unsigned_number($number)
    {
        return is_numeric($number) && $number >= 0;
    }

    public function set_item_width($item_index, $item_width)
    {
        if ($this->is_unsigned_number($item_index) && $this->is_unsigned_number($item_width)) {
            $this->item_width_map[intval($item_index)] = intval($item_width);
        }
        return $this;
    }

    public function set_column_width($zero_based_column_index, $column_width)
    {
        if ($this->is_unsigned_number($zero_based_column_index) && $this->is_unsigned_number($column_width)) {
            $this->column_width_map[intval($zero_based_column_index)] = intval($column_width);
        }
        return $this;
    }


    public function set_default_item_width($width)
    {
        $this->default_item_width = intval($width);
        return $this;
    }
    public function set_default_item_width_percent($width)
    {
        $width = str_replace("%","",$width);
        $this->default_item_width = $width."%";
        return $this;
    }

    private $vertical_align = 'top';
    public function set_vertical_align_top(){
        $this->vertical_align = 'top';
        return $this;
    }
    public function set_vertical_align_middle(){
        $this->vertical_align = 'middle';
        return $this;
    }
    protected function wrap_into_vertical_aligner($content){
        $result = $this->vertical_align == 'middle' ? CreateInlineBlock::vertical_align_middle($content) : CreateInlineBlock::vertical_align_top($content);
        return $result;
    }

    private $restricts_item_width = true;
    public function removeItemWidthRestriction(){
        $this->restricts_item_width = false;
        return $this;
    }
    public function permitItemWidthRestriction(){
        $this->restricts_item_width = true;
        return $this;
    }

    private $assoc_array_for_row_classes = array();
    public function add_class_to_item_at_index($number, $class)
    {
        $number = intval($number);
        $current_class_string =
            array_key_exists($number,$this->assoc_array_for_row_classes) ?
                $this->assoc_array_for_row_classes[$number]." ": "";

        $current_class_string .= $class;
        $this->assoc_array_for_row_classes[$number] = $current_class_string;
    }

    private $should_display_as_inline_block = true;
    private $should_vertical_align_top = true;
    public function disableDisplayAsInlineBlock(){
        $this->should_display_as_inline_block = false;
        return $this;
    }
    public function disableVerticalAlignTop(){
        $this->should_vertical_align_top = false;
        return $this;
    }
    
    protected function wrap_item($item)
    {
        $container_for_item = new SmartSpan();
        $container_for_item->set_inner_html($item);

        if($this->should_display_as_inline_block){
            $container_for_item->display_inline_block();
        }
        if($this->should_vertical_align_top){
            $container_for_item->vertical_align_top();
        }
        
        if($this->restricts_item_width){
            $container_for_item->width($this->choose_applicable_item_width());
        }
        foreach($this->item_class_name_array as $item_class){
            $container_for_item->add_class($item_class);
        }
        $item_index = $this->current_item_index();
        if(array_key_exists($item_index,$this->assoc_array_for_row_classes)){
            $container_for_item->add_class($this->assoc_array_for_row_classes[$item_index]);
        }
        return $container_for_item;
    }

    private $item_class_name_array = array();
    public function add_class_to_item($item_class){
        $this->item_class_name_array[] = $item_class;        
    }

    protected function choose_applicable_item_width()
    {
        $current_item_index = intval($this->current_item_index());
        $current_column_index = intval($this->current_column_index());


        $applicable_item_width = $this->default_item_width;
        if(count($this->item_width_map) > 0 && array_key_exists($current_item_index, $this->item_width_map)){
            $applicable_item_width = $this->item_width_map[$current_item_index];
        }
        else if(count($this->column_width_map) > 0 && array_key_exists($current_column_index, $this->column_width_map)){
            $applicable_item_width = $this->column_width_map[$current_column_index];
        }
        else{
            $applicable_item_width = $this->default_item_width;
        }
        return $applicable_item_width;

    }

    protected function iif($condition, $onTrueValue, $otherwiseValue)
    {
        return $condition ? $onTrueValue : $otherwiseValue;
    }

    protected function current_column_index()
    {
        return $this->current_item_index() % $this->max_items_per_line;
    }

    public static function create()
    {
        return new UICColumnPanel();
    }

    //===================
    protected $max_items_per_line = 10000;

    public function set_max_items_per_line($unsigned_number)
    {
        if ($this->is_unsigned_number($unsigned_number)) {
            $this->max_items_per_line = $unsigned_number;
        }
        return $this;
    }

    protected function get_html_before_item()
    {
        $break_html = '';
        //print json_encode($this->current_item_index());
        $should_prepend_space =
            ($this->current_item_index() % $this->max_items_per_line) == 0
                && $this->current_item_index() > 0;
        if ($should_prepend_space) {
            $break_html = SmartHTMLElement::line_break();
        }
        return $break_html;
    }

}

class UICHeadedStackPanel implements IStackPanel
{
    private $header = 'Panel Header';
    private $stack_panel = null;

    public function __construct($base_stack_panel)
    {
        $this->stack_panel = $base_stack_panel;
    }

    public function should_space_items($should_space_items)
    {
        $this->stack_panel->should_space_items($should_space_items);
        return $this;
    }

    public function set_header($header)
    {
        $this->header = $header;
        return $this;
    }

    public static function create()
    {
        return new UICHeadedStackPanel(new UICStackPanel());
    }

    public function add($item)
    {
        $this->stack_panel->add($item);
        return $this;
    }

    public function __toString()
    {

        $items = $this->stack_panel . "";
        $info_header = CreateBlockElement::information_header($this->header);
        $result = $info_header . $items;
        return CreateBlockElement::spacer($result)."";
    }

    public function toString()
    {
        return $this->__toString();
    }
}

class Namespace_UIDataStructure
{

}

class UIStoryDataStructure extends Namespace_UIDataStructure
{
    public $headline, $picture, $caption, $links, $author_name, $author_picture, $date;

    protected function __construct()
    {

    }

    public static function create()
    {
        return new UIStoryDataStructure();
    }
}

class UICard extends Namespace_UIDataStructure
{
    public $context, $lens, $triggers;

    public function __construct()
    {

    }

    public static function create()
    {
        return new UICard();
    }
}

class SmartTable extends SmartNonReplacedHTMLElement
{
    public function __construct()
    {
        $this->set_tag_name('table');
    }
    public static function create(){
        return new self();
    }
    
}

class SmartTableRow extends SmartNonReplacedHTMLElement
{
    public function __construct()
    {
        $this->set_tag_name('tr');
    }
    public static function create(){
        return new self();
    }

    
}

class SmartTableColumn extends SmartNonReplacedHTMLElement
{
    public function __construct()
    {
        $this->set_tag_name('td');
    }
    public static function create(){
        return new self();
    }
    public function set_column_span($unsigned_int){
        $this->set_attribute('colspan',$unsigned_int);
        return $this;
    }
    public function set_row_span($unsigned_int){
        $this->set_attribute('rowspan',$unsigned_int);
        return $this;
    }
}

class SmartTableHeader extends SmartNonReplacedHTMLElement
{
    public function __construct()
    {
        $this->set_tag_name('thead');
    }
    public static function create(){
        return new self();
    }
}

class SmartTableBody extends SmartNonReplacedHTMLElement
{
    public function __construct()
    {
        $this->set_tag_name('tbody');
    }
    public static function create(){
        return new self();
    }

}

class SmartBold extends SmartNonReplacedHTMLElement
{
    public function __construct()
    {
        $this->set_tag_name('b');
    }
    public static function create(){
        return new self();
    }

}


class SmartUrl
{
    private $arr_urlarameters = array();
    private $url;
    
    public function set_url($url)
    {
        $this->url = $url;
        return $this;
    }
    public function url(){
        return $this->url;
    }

    public function set_parameter($property, $value)
    {
        $this->arr_urlarameters[$property] = $value;
        return $this;
    }

    private function get_href()
    {
        $href = $this->url;
        if (is_array($this->arr_urlarameters) &&
            count($this->arr_urlarameters)
        ) {
            $href .= "?";
            $sep = "";
            foreach ($this->arr_urlarameters as $property => $value) {
                $href .= join("", array($sep, $property, "=", $value));
                $sep = "&";
            }
        }
        return $href;
    }

    public function __toString()
    {
        return $this->get_href()."";        
    }

    public function toString()
    {
        return $this->__toString();
    }

  
}

